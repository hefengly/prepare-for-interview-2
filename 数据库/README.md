## 关系型数据库和非关系数据库的优缺点

### 关系型数据库

> 一个关系型数据库就是由二维表及其之间的联系所组成的一个数据组织

### 特点

1. 基于单一关系模型，结构化存储，有完整性约束
2. 通过二维表建立数据之间的联系（有固定表结构）
3. 采用结构化查询语言(SQL)做数据读写
4. 操作保存数据的一致性

### 优点

1. 通过事务处理保持数据的一致性
2. 数据更新的开销很小
3. 可以进行Join等复杂查询
4. 数据易于维护、使用方便

### 缺点

1. 数据读写必须经过sql解析，大量数据、高并发下读写性能不足
2. 为保证数据一致性，需要加锁，影响并发操作
3. 无法适应非结构化的存储
4. 大量数据集中到一台服务区处理，使服务器不堪重负
5. 数据库庞大，价格昂贵



### 非关系型数据库

> 非关系型数据库严格上不是一种数据库，应该是一种数据结构化存储方法的集合

### 特点

1. 非结构化的存储。（以键值对存储，且结构不固定）
2. 基于多维关系模型
3. 部署容易，开源免费，成本低

### 优点

1. 无需经过sql层的解析，读写性能很高
2. 处理高并发、大批量数据的能力强
3. 支持分布式集群，负载均衡，性能高
4. 内存级数据库，查询速度快
5. 存储格式多，支持key-value形式、文档形式、图片形式
6. 没有多表连接查询机制的限制，扩展性高

### 缺点

1. 技术起步晚，维护工具以及技术资料有限
2. 不支持sql工业标准
3. 没有join等复杂的连接操作
4. 事务处理能力弱
5. 没有完整性约束，对于复杂业务场景支持较差



## 总结两种数据库

关系型数据库的最大特点就是事务的一致性：这个特性使得关系型数据库可以用于几乎所有对一致性有要求的系统中，如典型的银行系统。因为银行是严格需要数据准确返回的，不允许出现数据的不一致性。

然而部分的网页应用，如微博或Facebook，一致性在这些应用中反而显得没那么重要，而且这些应用对并发读写能力要求比较高，这个时候就是非关系型数据库发挥优势的地方了。

而且关系数据库的另一个特点就是其具有固定的表结构，因此，其扩展性极差，而在SNS中，系统的升级，功能的增加，往往意味着数据结构巨大变动，这一点关系型数据库也难以应付，需要新的结构化数据存储。



## 范式

- 1NF： 字段是最小的的单元不可再分 
- 2NF：满足1NF,表中的字段必须完全依赖于全部主键而非部分主键 (一般我们都会做到)
- 3NF：满足2NF,非主键外的所有字段必须互不依赖
- 4NF：满足3NF,消除表中的多值依赖



### 索引

> 索引（Index）是帮助MySQL高效获取数据的**数据结构**

1. 较频繁的作为查询条件的字段应该创建索引
2. 唯一性太差的字段不适合单独创建索引，即使频繁作为查询条
3. 更新非常频繁的字段不适合创建索引

然而，索引虽然加快了查询速度，但索引也是有代价的：索引文件本身要消耗存储空间，同时索引会加重插入、删除和修改记录时的负担，另外，MySQL在运行时也要消耗资源维护索引，因此索引并不是越多越好。